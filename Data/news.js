const newsData = [
    { id: "news1",
        title: "Уход Хорнера сравним с исчезновением динозавра",
        date: "2025-08-09",
        category: "Команда",
        image: "news1.jpg",
        summary: "Уволенный из Red Bull Racing Кристиан Хорнер – личность противоречивая, и отношение к нему у бывших коллег могло быть кардинально противоположным.",
        content: "Тото Вольфф: «В каком-то смысле я скучаю по Кристиану, ведь мы с ним боролись на протяжении 12 лет. Часто он вел себя как дурак, и я открыто говорил ему об этом. Знаете, Хорнер был противоречивым руководителем команды, но в то же время одним их главных героев в нашем актёрском составе. Его карьерные достижения и рекорды на трассе говорят сами за себя. В каком-то смысле уход Хорнера сравним с исчезновением одного из старых динозавров. Среди руководителей команд таких осталось немного, поэтому я чувствую себя немного одиноко»."
    },
    { id: "news2",
        title: "Алекс Данн в списке кандидатов на место в Cadillac",
        date: "2025-08-09",
        category: "Команда",
        image: "news2.jpg",
        summary: "Алекс Данн пополнил список кандидатов на место в Cadillac на следующий сезон.",
        content: "Американская команда пока официально не объявила состав пилотов на 2026-й, но считается, что контракт с Валттери Боттасом – вопрос решённый, и сторонам осталось только согласовать мелкие детали и подписать бумаги. Руководитель команды Грэм Лоундон давал понять, что в напарники к опытному гонщику в Cadillac могут пригласить молодого пилота. Считается, что наибольшие шансы на контракт у резервного гонщика Aston Martin Фелипе Друговича, однако теперь ирландская пресса пишет об интересе Cadilliac к Алексу Данну, впрочем, не приводя никаких подробностей. В 2025-м ирландец Данн выступает в Формуле 2. В этом сезоне на его счету две победы, шесть подиумов, два поула и два лучших круга. На Гран При Австрии Алекс садился за руль McLaren в первой тренировке."
    },
    { id: "news3",
        title: "Дожди размыли трассу в Зандфорте",
        date: "2025-07-22",
        category: "Трасса",
        image: "news3.jpg",
        summary: "Система отвода воды на трассе в голландском Зандфорте не выдержала продолжавшихся несколько дней ливней.",
        content: "Система отвода воды на трассе в голландском Зандфорте не выдержала продолжавшихся несколько дней ливней. Трассу подмыло, на опубликованных пресс-службой фотографиях видны текущие по асфальту ручьи. Затопило и подъездные пути, так что автодром пришлось временно закрыть. Восстановительные работы ведутся и уже сегодня трасса должна быть открыта – Академия Формулы 1 проведёт двухдневные тесты."
    },
    { id: "news4",
        title: "В контракте Хэмилтона с Ferrari есть особое условие?",
        date: "2025-08-12",
        category: "Команда",
        image: "news4.jpg",
        summary: "Дела Льюиса Хэмилтона в его первый год сотрудничества с Ferrari складываются далеко не так, как бы хотелось и ему самому.",
        content: "Дела Льюиса Хэмилтона в его первый год сотрудничества с Ferrari складываются далеко не так, как бы хотелось и ему самому, и команде из Маранелло, поэтому о перспективах этого альянса в последнее время много разговоров. Считается, что базовые договорённости сторон носят двухлетний характер, однако предусмотрен опцион на третий год, но только от Хэмилтона зависит, воспользоваться им или нет.  Т.е. он сам решит, будет ли выступать за Скудерию в 2027-м, или его сотрудничество с Ferrari завершится. "
    },
    { id: "news5",
        title: "Доменикали обсудит с командами новый формат спринта",
        date: "2025-08-12",
        category: "Регламент",
        image: "news5.jpg",
        summary: "Стефано Доменикали, планирует обсудить с участниками чемпионата вопрос об увеличении числа этапов со спринтами.",
        content: "Стефано Доменикали, президент и исполнительный директор Формулы 1, планирует обсудить с участниками чемпионата вопрос об увеличении числа этапов со спринтами, а также изменение формата короткой субботней гонки – речь идёт о реверсивном порядке старта.  Вот эти аспекты: можно ли включать спринтерские гонки в программу большего числа этапов? И будет ли правильным подход, предполагающий реверсивный порядок старта, который мы практикуем в Ф2 и Ф3? Эти вопросы мы собираемся обсуждать. Думаю, мы уже в достаточной мере созрели, чтобы в командах серьёзно отнеслись к подобным моментам. Интерес к такому направлению развития определённо растёт, поэтому я готов всё это представить командам и вести с ними дискуссию не только об увеличении числа спринтов, но также обсуждать новые форматы и новые идеи». "
    },
    { id: "news6",
        title: "О контракте Переса с Cadillac может быть объявлено в Монце",
        date: "2025-08-12",
        category: "Команда",
        image: "news6.jpg",
        summary: "PlanetF1 пишет, что в ближайшие недели ожидается подтверждение контракта Серхио Переса с Cadillac.",
        content: "PlanetF1 пишет, что в ближайшие недели ожидается подтверждение контракта Серхио Переса с Cadillac F1 – якобы это британскому онлайн-изданию подтвердили несколько разных источников. В частности, сообщается, что договорённости между сторонами уже достигнуты, и о контракте может быть объявлено в дни Гран При Италии. 35-летний мексиканский гонщик вёл переговоры с будущей заводской командой концерна General Motors в течение года, а теперь у него сменился менеджер, и надо полагать, что это тоже произошло не случайно."
    },
    { id: "news7",
        title: "Задача в том, чтобы вывести команду в высшую лигу",
        date: "2025-08-12",
        category: "Команда",
        image: "news7.jpg",
        summary: "В конце января гонщики заводской команды Audi впервые выведут новые машины на трассу в Барселоне.",
        content: "До предсезонных тестов 2026 года остаётся меньше шести месяцев, и в конце января гонщики заводской команды Audi впервые выведут новые машины на трассу в Барселоне. Sauber последний сезон выступает под своим изначальным названием, и во всех летних гонках швейцарская команда демонстрировала явный прогресс, а это признак того, что в основе проекта Audi достаточно прочный фундамент."
    },
];

function renderNews() {
    const content = document.getElementById('content');
    content.innerHTML = `
        <div class="news-container">
            <div class="news-grid" id="newsGrid"></div>
        </div>
    `;

    const newsGrid = document.getElementById('newsGrid');
    
    // Сортируем новости по дате (новые сначала)
    const sortedNews = [...newsData].sort((a, b) => 
        new Date(b.date) - new Date(a.date)
    );

    sortedNews.forEach(newsItem => {
        const newsCard = document.createElement('div');
        newsCard.className = 'news-card';
        newsCard.setAttribute('data-news', newsItem.id);

        newsCard.innerHTML = `
            <div class="news-image">
                <img src="Images/News/${newsItem.image}" alt="${newsItem.title}">
                <span class="news-category">${newsItem.category}</span>
            </div>
            <div class="news-content">
                <div class="news-header">
                    <h3 class="news-title">${newsItem.title}</h3>
					<div class="glos-divider"></div>
                    <span class="news-date">${formatDate(newsItem.date)}</span>
					<div class="glos-divider"></div>
                </div>
                <p class="news-summary">${newsItem.summary}</p>
                <button class="news-read-more">Подробнее</button>
            </div>
        `;

        newsCard.addEventListener('click', () => openNewsModal(newsItem));
        newsGrid.appendChild(newsCard);
    });
}

function formatDate(dateStr) {
    const options = { day: 'numeric', month: 'long', year: 'numeric' };
    return new Date(dateStr).toLocaleDateString('ru-RU', options);
}

function openNewsModal(newsItem) {
    const modal = document.createElement('div');
    modal.className = 'news-modal';
    modal.innerHTML = `
        <div class="news-modal-content">
            <div class="news-modal-image">
                <img src="Images/News/${newsItem.image}" alt="${newsItem.title}">
                <span class="news-modal-category">${newsItem.category}</span>
            </div>
            <div class="news-modal-body">
                <h2 class="news-modal-title">${newsItem.title}</h2>
				<div class="glos-divider"></div>
                <span class="news-modal-date">${formatDate(newsItem.date)}</span>
				<div class="glos-divider"></div>
                <div class="news-modal-text">
                    <p>${newsItem.content}</p>
                </div>
            </div>
        </div>
        <button class="news-close-modal">&times;</button>
    `;
    
    document.body.appendChild(modal);
    
    // Закрытие модального окна
    modal.querySelector('.news-close-modal').addEventListener('click', () => modal.remove());
    modal.addEventListener('click', (e) => {
        if (e.target === modal) modal.remove();
    });
}

// Инициализация при загрузке вкладки
if (window.location.hash === '#news') {
    renderNews();

}
